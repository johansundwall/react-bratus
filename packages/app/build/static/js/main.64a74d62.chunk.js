(this["webpackJsonp@react-bratus/app"]=this["webpackJsonp@react-bratus/app"]||[]).push([[0],{238:function(e,n,t){var r={"./da/messages.js":[422,3],"./en/messages.js":[423,4]};function c(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],c=n[0];return t.e(n[1]).then((function(){return t.t(c,7)}))}c.keys=function(){return Object.keys(r)},c.id=238,e.exports=c},421:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t.n(r),a=t(14),i=t.n(a),o=t(146),s=t(221),l=t(90),d=(t(229),t(49)),u=t(122),j=t(76),b=t.n(j),h=t(207);function f(){return(f=Object(h.a)(b.a.mark((function e(n){var r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(238)("./".concat(n,"/messages.js"));case 2:r=e.sent,c=r.messages,d.a.load(n,c),d.a.activate(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p="react-bratus:settings:locale",g=function(){var e,n=Object(r.useState)(null!==(e=localStorage.getItem(p))&&void 0!==e?e:(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).split("-")[0]),t=Object(l.a)(n,2),c=t[0],a=t[1];return{locale:c,updateLocale:function(e){localStorage.setItem(p,e),a(e)}}},O=t(147),x=t(208),m=t.n(x),v=t(6);d.a.loadLocaleData("en",{plurals:O.b}),d.a.loadLocaleData("da",{plurals:O.a});var y=function(e){var n=e.children;return Object(u.b)().i18n.locale?Object(v.jsx)(v.Fragment,{children:n}):null};y.propTypes={children:m.a.any};var w,C,F,S,k,D,L,T,P,E,U,B,I=y,R=t(25),M=t(23),N={primary:"#00D8FF",secondary:"#001529"},q=Object(M.b)(w||(w=Object(R.a)(["\n\n"]))),A=function(e){var n=e.children;return Object(v.jsxs)(M.a,{theme:N,children:[Object(v.jsx)(q,{}),n]})},G=t(38),J=12,_=172,z=M.c.div(C||(C=Object(R.a)(["\n  height: ","px;\n  width: ","px;\n  padding: ","px;\n  border-radius: ","px;\n  background-color: white;\n  border: ","px solid;\n  border-color: black;\n"])),(function(e){return 44+e.linesOfCode}),_,J,8,(function(e){return e.timesUsed<5?1:3})),W=function(e){var n=e.data;return Object(v.jsxs)(z,{linesOfCode:n.linesOfCode,timesUsed:n.component.timesUsed,children:[n.inDegree>0&&Object(v.jsx)(G.b,{type:"target",position:"left"}),Object(v.jsxs)("div",{children:[n.label,"(",n.component.timesUsed,")"]}),n.outDegree>0&&Object(v.jsx)(G.b,{type:"source",position:"right"})]})},H=Object(M.c)(G.c)(F||(F=Object(R.a)(["\n  position: absolute;\n  right: ","px;\n  top: ","px;\n"])),J,J),K=function(e){var n=e.elements;return Object(v.jsx)(v.Fragment,{children:n&&Object(v.jsxs)(G.d,{elements:n,nodeTypes:{reactComponent:W},children:[Object(v.jsx)(H,{}),Object(v.jsx)(G.a,{})]})})},Q=t(425),V=t(426),X=t(220),Y=t(428),Z=t(427),$=M.c.div(S||(S=Object(R.a)(["\n  padding-top: ","px;\n  padding-bottom: ","px;\n  padding-left: ","px;\n"])),24,J,24),ee=M.c.h2(k||(k=Object(R.a)(["\n  color: white;\n  font-weight: 400;\n  text-align: right;\n  margin-bottom: ","px;\n  padding-right: ","px;\n"])),J,J),ne=M.c.hr(D||(D=Object(R.a)(["\n  width: ","px;\n  color: blue;\n  margin: 0;\n  margin-left: auto;\n"])),230),te=function(e){var n=e.children;return Object(v.jsxs)($,{children:[Object(v.jsx)(ee,{children:n}),Object(v.jsx)(ne,{})]})},re=M.c.div(L||(L=Object(R.a)(["\n  display: flex;\n  flex-direction: column;\n  height: auto;\n"]))),ce=function(e){var n=e.children,t=e.title;return Object(v.jsxs)(re,{children:[Object(v.jsx)(te,{children:t}),n]})},ae=V.a.Paragraph,ie=V.a.Title,oe=Object(M.c)(ie)(T||(T=Object(R.a)(["\n  color: #fff !important;\n  text-align: center;\n"]))),se=Object(M.c)(ae)(P||(P=Object(R.a)(["\n  color: #fff;\n  line-height: ","px;\n  font-size: ","px;\n  text-align: right;\n  padding-right: ","px;\n"])),24,14,J),le=M.c.span(E||(E=Object(R.a)(["\n  color: ",";\n"])),(function(e){return e.theme.primary})),de=M.c.div(U||(U=Object(R.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  flex-wrap: wrap;\n  padding: ","px;\n  margin-left: auto;\n  width: 100%;\n\n  > * {\n    &:not(:last-child) {\n      margin-left: ","px;\n      margin-bottom: ","px;\n    }\n  }\n"])),J,J,J),ue=Q.a.Sider,je=function(e){var n=e.info;return Object(v.jsxs)(ue,{width:250,style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:[Object(v.jsx)(oe,{level:1,children:"react-bratus"}),Object(v.jsxs)(Y.a,{theme:"dark",mode:"inline",children:[n&&Object(v.jsxs)(ce,{title:"Info",children:[Object(v.jsxs)(se,{children:["your tree contains"," ",Object(v.jsxs)(le,{children:[n.uniqueComponents," "]}),"unique components"]}),Object(v.jsxs)(se,{children:["your components are on average reused",Object(v.jsxs)(le,{children:[" ",n.averageTimesUsed.toFixed(2)," "]}),"times"]}),Object(v.jsxs)(se,{children:["your average component consist of",Object(v.jsxs)(le,{children:[" ",n.averageLinesOfCode.toFixed(0)," "]}),"lines of code"]})]}),Object(v.jsx)(te,{children:"Actions"}),Object(v.jsx)(de,{children:Object(v.jsx)(Z.a,{onClick:function(){fetch("http://localhost:3000/compile",{method:"POST"}).then((function(){var e=X.b.loading("Recompiling. Window will refresh soon..",0);setTimeout((function(){return e}),2e3),setTimeout((function(){location.reload()}),4e3)})).catch((function(e){return console.log("An error occurred ",e)}))},ghost:!0,children:"Recompile"})})]})]})},be=Object(M.c)(Q.a)(B||(B=Object(R.a)(["\n  margin-left: ","px;\n  padding: 1rem;\n  height: 100vh;\n"])),250),he=function(e){var n=e.children,t=e.info;return Object(v.jsxs)(Q.a,{children:[Object(v.jsx)(je,{info:t}),Object(v.jsx)(be,{children:n})]})},fe=t(149),pe=t.n(fe),ge=function(){var e=g().locale,n=Object(r.useState)(null),t=Object(l.a)(n,2),c=t[0],a=t[1],i=Object(r.useState)(null),j=Object(l.a)(i,2),b=j[0],h=j[1];return Object(r.useEffect)((function(){!function(e){f.apply(this,arguments)}(e),fetch("http://localhost:3000/parsedData").then((function(e){return e.json()})).then((function(e){h(e.info);var n=Object(s.a)(new Set(e.nodes.map((function(e){return e.data.label}))));console.log(n),a(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LR",t=new pe.a.graphlib.Graph;t.setDefaultEdgeLabel((function(){return{}}));var r="LR"===n;t.setGraph({rankdir:n});var c=2;return e.forEach((function(e){Object(G.e)(e)?t.setNode(e.id,{width:_*c,height:44+e.data.linesOfCode}):t.setEdge(e.source,e.target)})),pe.a.layout(t),e.map((function(e){if(Object(G.e)(e)){var n=t.node(e.id);e.targetPosition=r?"left":"top",e.sourcePosition=r?"right":"bottom",e.position={x:n.x-_*c/2+Math.random()/1e3,y:n.y-(36+e.data.linesOfCode)/2}}return e}))}([].concat(e.nodes,e.edges.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:"#001529",fillOpacity:.7},labelStyle:{fill:"#fff"},style:{stroke:e.label?"#00D8FF":"#000"}})})))))})).catch(console.log)}),[e]),Object(v.jsx)(u.a,{i18n:d.a,children:Object(v.jsx)(I,{children:Object(v.jsx)(A,{children:Object(v.jsx)(he,{info:b,children:Object(v.jsx)(K,{elements:c})})})})})},Oe=function(e){e&&e instanceof Function&&t.e(5).then(t.bind(null,429)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(ge,{})}),document.getElementById("root")),Oe()}},[[421,1,2]]]);
//# sourceMappingURL=main.64a74d62.chunk.js.map